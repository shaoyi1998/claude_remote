# Claude Remote 项目状态

## 最后更新：2026-02-18

### 项目概况
- **前端**：Vue 3 + Vite + Capacitor (Android APK 支持)
- **后端**：FastAPI + tmux (必须运行在 WSL/Linux)
- **端口**：前端 3000，后端 8000

### 已完成功能

#### 1. 快捷键系统（已重构）
- **文件**：`frontend/src/stores/shortcuts.js`
- 自定义命令按钮（如 `/compact`, `/clear`）
- 自定义快捷键（Ctrl 组合键、F1-F12）
- 支持启用/禁用、添加、编辑、删除
- 配置保存在 localStorage `shortcuts_v2`

#### 2. 文件浏览器
- **前端**：`frontend/src/views/FileBrowser.vue`
- **后端**：`backend/api/files.py`
- 支持目录浏览、面包屑导航
- 代码高亮（highlight.js）
- 显示隐藏文件
- **安全限制**：只能访问用户主目录

#### 3. 终端锁定功能
- 锁定后禁止输入，但可滚动查看
- 使用 xterm.js 的 `readOnly` 模式

### 启动方式

#### 后端（必须在 WSL）
```bash
wsl -e bash -c "cd /mnt/d/pycharm项目/claude_code远程/backend && python3 -m uvicorn main:app --host 0.0.0.0 --port 8000"
```

#### 前端
```bash
cd D:\pycharm项目\claude_code远程\frontend
npm run dev
```

### Git 状态
- 已初始化仓库
- 最后提交：`style: 优化设置页面布局和终端预览`

### 关键文件路径

| 文件 | 作用 |
|------|------|
| `frontend/src/views/TaskDetail.vue` | 终端页面，快捷键面板 |
| `frontend/src/views/Settings.vue` | 设置页面（快捷键配置） |
| `frontend/src/views/FileBrowser.vue` | 文件浏览器 |
| `frontend/src/stores/shortcuts.js` | 快捷键配置存储 |
| `backend/api/files.py` | 文件操作 API |
| `backend/main.py` | 后端入口 |

### 待办/注意事项
1. Android APK 打包：`npm run build && npx cap sync android`
2. 后端必须运行在 WSL（tmux 依赖）
3. 局域网访问需配置服务器地址（设置页面）

### 已解决的问题
- xterm.js dimensions 错误：使用 `requestAnimationFrame` 延迟 fit()
- 终端输出不更新：添加轮询机制（300ms）
- 文件路径问题：返回绝对路径，展开 `~`
- Windows `nul` 文件：已加入 .gitignore
